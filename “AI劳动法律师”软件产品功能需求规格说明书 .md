# **“AI劳动法律师”软件产品功能需求规格说明书 (PRD)**
**版本：V1.1**

### **1. 项目概述**

本项目旨在开发一款名为“AI劳动法律师”的智能软件应用，专注于为用户提供劳动法领域的全流程智能辅助服务。软件通过结合大语言模型、法律知识库和结构化分析工具，帮助用户理解自身处境、梳理案情、分析证据、计算权益，并生成必要的法律文书，旨在降低普通劳动者的维权门槛和成本。

### **2. 核心功能模块详述**

#### **2.1 法律知识智能问答 (免费)**

*   **功能描述：** 用户可围绕劳动法相关问题进行提问，系统基于内置的、实时更新的法律法规、司法解释及典型案例知识库，提供精准、易懂的解答。
*   **技术要求：** 采用RAG（检索增强生成）技术，确保回答的法律依据可追溯，减少模型幻觉。知识库需有定期更新机制。
*   **用户体验：** 回答应分点阐述，引用法条时需注明来源，并用通俗语言进行解释。

#### **2.2 劳动争议多轮对话信息采集 (免费)**

*   **功能描述：** 通过引导式对话，系统性地收集用户的劳动争议案件信息。此功能包含两种模式：
    *   **A. 单Agent引导模式 (普通模式):** 系统首先判断用户争议的核心类型（如：违法解雇、拖欠工资、工伤认定、竞业限制等），然后进入该类型专属的对话流程，进行深度信息挖掘。
    *   **B. 多Agent协作模式 (高级模式):** 系统自动激活一个由四个专业Agent组成的协作团队，与用户进行连续对话，无需预先分类，对话体验更流畅、信息采集更全面。各Agent分工如下：
        *   **Agent 1: 诉求收集 (Demand Collection)Agent：** 与用户建立信任关系，通过宏观提问，让用户完整叙述事件，并从中提炼出本次劳动争议的【核心事件】和用户的【核心诉求】。
        *   **Agent 2: 法条对应 (Legal Fact Finding)Agent：** 基于第一阶段确定的核心争议类型，激活相应的“信息收集模块”，系统性地问询构成该法律事实所必需的关键信息（时间、方式、理由等）。
        *   **Agent 3: 辅助法条 (Ancillary & Evidentiary Probing)Agent：** 在主线争议事实基本清晰后，主动探查可能存在的、用户尚未意识到的其他法律瑕疵（如合同、社保）和与证据固定相关的关键信息。
        *   **Agent 4: 背景信息 (Background Info)Agent：** 收集计算补偿、判断法律适用所必需的基础信息，并核实是否存在“三期”、医疗期等特殊保护状态。
        
#### **2.3 证据材料合规性与关联性分析 (收费)**

*   **功能描述：** 用户上传电子版证据材料，系统进行结构化信息提取、合规性分析和与案件的关联性分析。所有分析结果以统一的JSON格式返回，便于后续功能调用。
*   **通用JSON字段说明：**
    *   `"文件内容"`: 应为OCR或语音识别后的**关键信息摘要**，而非全文。
    *   `"文件有效性说明"`: **需明确指出具体问题**，例如：“合同缺少公司公章，可能影响其法律效力”、“聊天记录未显示对方身份，作为证据的证明力较弱”、“录音过程可能涉嫌偷录，需结合其他证据使用”。
    *   `"与案件关联性分析"`: **新增字段**，说明该证据能证明案情中的哪个部分。例如：“此银行流水可证明2023年每月平均工资为XXXX元”、“此聊天记录可证明公司口头承诺支付年终奖”。

*   **具体分析功能（JSON格式要求如下）：**

    *   **① 合同类文件分析 (劳动合同/辞退通知书/竞业协议等)**
        ```json
        {
          "文件类型": "劳动合同",
          "主体公司名称": "合肥XX科技有限公司",
          "合同起始日期": "2022年08月01日",
          "合同有效期": "3年",
          "约定薪资": "15000元/月",
          "关键信息摘要": "摘要：合同约定试用期6个月，每月薪资12000元，转正后15000元。约定违约金为2万元。",
          "文件有效性说明": "合同已双方签字盖章，签订日期清晰，合法有效。",
          "与案件关联性分析": "可证明双方存在劳动关系、约定薪资标准及工作年限。",
          "是否可以作为核心证据": "是" 
        }
        ```
    *   **② 薪资发放记录分析 (银行流水/工资单)**
    *   **③ 考勤数据分析 (打卡记录/考勤单)**
    *   **④ 工伤诊断材料分析 (工伤诊断书/病历)**
    *   **⑤ 音视频证据分析 (录音/录像)**
        ```json
        {
          "文件类型": "录音",
          "关键内容摘要（文字稿）": "HR张三在录音3分15秒处承认：‘公司资金链紧张，确实是违法辞退你，没法给N+1’。",
          "文件有效性说明": "录音声音清晰，内容未经剪辑。但需注意取证方式的合法性，建议作为辅助证据。",
          "与案件关联性分析": "可直接证明公司承认违法解雇的事实。",
          "是否可以作为核心证据": "否，建议作为辅助证据"
        }
        ```
    *   **⑥ 聊天记录分析 (微信/钉钉/飞书等)**
        *(以上②③④⑥的JSON结构参照①和⑤进行优化，增加`关键信息摘要`和`与案件关联性分析`字段)*

#### **2.4 仲裁可能性分析与策略建议（三段论）(收费)**

*   **功能描述：** 在用户完成多轮对话和证据上传后，系统整合所有信息，自动生成一份结构化的仲裁分析报告。
*   **输出形式（三段论）：**
    *   **A. 大前提 (法律规定分析):** 清晰列出本案适用的核心法律条款，如《劳动合同法》第四十七条、第八十七条等。
    *   **B. 小前提 (案情事实应用):** 将已确认的案件事实和已分析的证据，与上述法律条款进行逐一对应。例如：“根据您提供的劳动合同和银行流水，您的月平均工资为X元，工作年限为Y年。根据《劳动合同法》第四十七条，您的经济补偿金标准应为...”。
    *   **C. 结论 (综合评估与策略建议):**
        *   **仲裁胜败可能性评估：** 综合分析证据链完整性，给出“胜算较高”、“胜算中等”、“胜算较低”的判断，并说明理由。
        *   **当前应对方案：** 给出当下最应该做的事情，如“立即向公司发送《被迫解除劳动合同通知书》”、“整理并公证聊天记录”。
        *   **后续维权路径与赔偿方案：** 规划清晰的维权步骤（协商->仲裁->诉讼），并链接到赔偿计算和文书生成功能。

#### **2.5 经济赔偿/补偿金智能计算 (收费)**

*   **功能描述：** 基于案情类型、用户诉求以及已分析的证据（如工作年限、平均薪资），精确计算各项法定赔偿/补偿金额。
*   **要求：**
    *   **计算过程透明：** 必须展示详细的计算公式，并清晰标注每个数据的来源（例如：`平均薪资12,500元（来源：已上传的银行流水）`）。
    *   **覆盖全面：** 应包括但不限于经济补偿金(N, N+1, 2N)、未签劳动合同双倍工资、违法解雇赔偿金、加班费、未休年假工资等。

#### **2.6 法律文书智能生成 (收费)**

*   **功能描述：** 根据案件类型和当前所处阶段，为用户一键生成所需的法律文书模板。
*   **文书类型举例：** 劳动仲裁申请书、被迫解除劳动合同通知书、证据清单、事实与理由陈述状等。
*   **要求：** 文书中的关键信息（如申请人/被申请人信息、事实经过、诉求金额等）应自动从用户信息和分析结果中填充，用户可在线编辑和导出。

### **3. 用户交互流程与功能编排**

**在一个统一的对话界面中完成所有交互：**

1.  **启动对话 & 意图识别：** 用户进入对话框，系统欢迎并询问需求。系统自动识别用户意图是“一般法律知识咨询”还是“我的劳动争议需要帮助”。
    *   **分支A (咨询):** 进入【2.1 法律知识智能问答】流程。
    *   **分支B (争议):** 进入下一步。

2.  **案情多轮对话：** 启动【2.2 多轮对话信息采集】功能（默认启动多Agent模式），与用户进行深入沟通，并实时在后端构建案件信息档案。

3.  **生成初步案情摘要 & 付费引导：** 对话结束后，系统免费生成一份“初步案情摘要”，内容包括：案件类型判断、关键事实概述、已提及的证据列表。然后提示用户：“您的案情已基本清晰，升级至专业版即可进行证据深度分析、获取详细的仲裁策略报告、精确计算赔偿金额并生成法律文书。是否立即升级？”

4.  **付费确认与功能解锁：** 系统判断用户付费状态。
    *   **非付费用户：** 对话暂停于此，可随时返回查看案情摘要。
    *   **付费用户：** 解锁所有收费功能，进入下一步。

5.  **证据上传与深度分析：** 系统引导用户根据“初步案情摘要”中的证据列表，上传对应的文件。每上传一份，系统立即调用【2.3 证据分析】功能，并实时展示分析结果（JSON摘要）。

6.  **生成完整分析报告与赔偿计算：** 所有核心证据上传分析完毕后，系统自动触发【2.4 仲裁可能性分析】和【2.5 赔偿计算】功能，将一份完整的、包含所有分析和计算结果的报告呈现给用户。

7.  **法律文书生成：** 在报告页下方，提供【2.6 法律文书生成】的入口，用户可根据需要选择生成相应的文书。

8.  **案件管理与历史追溯：**
    *   所有用户的对话和案件信息（经用户同意后）将被保存。案件以“立案”形式归档。
    *   用户再次打开软件时，系统询问：“是否继续处理案件‘与XX公司的劳动争议’？”
    *   **选择“是”：** 加载全部历史记录和分析结果，回到上次中断的步骤。
    *   **选择“否”或“开启新咨询”：** 清空当前对话上下文，开始新的会话，但历史案件仍在个人中心可查。

### **4. 非功能性需求**

1.  **数据安全与隐私保护：**
    *   所有用户数据，特别是身份信息和证据材料，必须进行加密存储和加密传输。
    *   用户首次使用时，需有明确的、强制阅读并同意的《用户协议》和《隐私政策》，清晰告知数据用途和保护措施。
    *   严格遵守《个人信息保护法》等相关法律法规，提供用户数据删除和账户注销的渠道。
    *   考虑对上传的证据文件进行数据脱敏处理。

2.  **系统性能：**
    *   智能问答的响应时间应在2秒以内。
    *   文件（特别是大文件）分析过程应有明确的进度提示，单份文件分析时间一般不超过30秒。
    *   系统需能稳定支持高并发用户访问。

3.  **准确性与可靠性：**
    *   法律知识库必须有专人或自动化机制进行维护，确保与最新的法律法规保持同步。
    *   软件界面所有关键位置必须有清晰的**免责声明**：**“本软件提供的信息和分析仅供参考，不能替代专业律师的正式法律意见。在做出任何决策前，请咨询执业律师。”**
